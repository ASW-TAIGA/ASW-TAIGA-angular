<div class="w-full max-w-xs bg-white rounded-lg shadow p-6 space-y-6">
  <div class="flex items-center justify-between">
    <h2 class="text-lg font-bold text-gray-900">OPEN</h2>
    <div class="relative">
      <button
        class="bg-indigo-600 text-white text-xs font-semibold px-3 py-1 rounded flex items-center cursor-pointer justify-start"
        (click)="toggleDropdown('status', $event); $event.stopPropagation()"
        tabindex="0">
        {{ getOptionValue('status', issue.status) }}
        <span class="ml-1">‚ñº</span>
      </button>
      <div *ngIf="dropdown.status" class="absolute right-0 mt-1 bg-white border rounded shadow z-20 min-w-full">
        <div *ngFor="let opt of statusOptions" (click)="selectOption('status', opt, $event); $event.stopPropagation()"
             class="px-4 py-2 hover:bg-gray-100 cursor-pointer"
             [class.font-bold]="opt.id === issue.status">
          {{ opt.value }}
        </div>
      </div>
    </div>
  </div>

  <div class="space-y-4 text-sm text-gray-700">
    <div class="relative">
      <button
        class="w-full flex justify-between items-center px-2 py-1 rounded border hover:bg-gray-50 focus:outline-none cursor-pointer justify-start"
        (click)="toggleDropdown('type', $event); $event.stopPropagation()"
        tabindex="0">
        <span class="text-gray-500">type</span>
        <span class="flex items-center">
    <span class="font-medium">{{ getOptionValue('type', issue.type) }}</span>
    <span class="w-3 h-3 rounded-full ml-2" [ngClass]="getOptionColor('type', issue.type)"></span>
  </span>
      </button>
      <div *ngIf="dropdown.type" class="absolute right-0 top-10 bg-white border rounded shadow z-10 min-w-max inline-block"
           (click)="$event.stopPropagation()">
        <div *ngFor="let opt of typeOptions" (click)="selectOption('type', opt, $event); $event.stopPropagation()"
             class="px-4 py-2 hover:bg-gray-100 cursor-pointer"
             [class.font-bold]="opt.id === issue.type">
          {{ opt.value }}
        </div>
      </div>
    </div>
    <div class="relative">
      <button
        class="w-full flex justify-between items-center px-2 py-1 rounded border hover:bg-gray-50 focus:outline-none cursor-pointer justify-start"
        (click)="toggleDropdown('severity', $event); $event.stopPropagation()"
        tabindex="0">
        <span class="text-gray-500">severity</span>
        <span class="flex items-center">
    <span class="font-medium">{{ getOptionValue('severity', issue.severity) }}</span>
    <span class="w-3 h-3 rounded-full ml-2" [ngClass]="getOptionColor('severity', issue.severity)"></span>
  </span>
      </button>
      <div *ngIf="dropdown.severity" class="absolute right-0 top-10 bg-white border rounded shadow z-10 min-w-max inline-block"
           (click)="$event.stopPropagation()">
        <div *ngFor="let opt of severityOptions" (click)="selectOption('severity', opt, $event); $event.stopPropagation()"
             class="px-4 py-2 hover:bg-gray-100 cursor-pointer"
             [class.font-bold]="opt.id === issue.severity">
          {{ opt.value }}
        </div>
      </div>
    </div>
    <div class="relative">
      <button
        class="w-full flex justify-between items-center px-2 py-1 rounded border hover:bg-gray-50 focus:outline-none cursor-pointer justify-start"
        (click)="toggleDropdown('priority', $event); $event.stopPropagation()"
        tabindex="0">
        <span class="text-gray-500">priority</span>
        <span class="flex items-center">
    <span class="font-medium">{{ getOptionValue('priority', issue.priority) }}</span>
    <span class="w-3 h-3 rounded-full ml-2" [ngClass]="getOptionColor('priority', issue.priority)"></span>
  </span>
      </button>
      <div *ngIf="dropdown.priority" class="absolute right-0 top-10 bg-white border rounded shadow z-10 min-w-max inline-block"
           (click)="$event.stopPropagation()">
        <div *ngFor="let opt of priorityOptions" (click)="selectOption('priority', opt, $event); $event.stopPropagation()"
             class="px-4 py-2 hover:bg-gray-100 cursor-pointer"
             [class.font-bold]="opt.id === issue.priority">
          {{ opt.value }}
        </div>
      </div>
    </div>
  </div>

  <hr />

  <div>
    <h3 class="text-xs font-bold uppercase text-gray-500 mb-2">Assigned</h3>
    <div class="flex gap-2">
      <button class="w-full border px-3 py-2 text-sm rounded hover:bg-gray-50">+ Add assigned</button>
      <button class="w-full bg-indigo-600 text-white px-3 py-2 text-sm rounded hover:bg-indigo-700">Assign to me</button>
    </div>
  </div>

  <div>
    <h3 class="text-xs font-bold uppercase text-gray-500 mb-2">Watchers</h3>
    <div class="flex gap-2">
      <button class="w-full border px-3 py-2 text-sm rounded hover:bg-gray-50">+ Add watchers</button>
      <button class="w-full border px-3 py-2 text-sm rounded hover:bg-gray-50">üëÅ Watch</button>
    </div>
  </div>
  <hr />
  <div class="flex justify-between text-blue-500 text-xl items-center relative">
    <div class="relative">
      <button title="Time"
              class="hover:bg-gray-100 p-2 rounded cursor-pointer"
              (click)="showDatePicker = !showDatePicker">
        üïí
      </button>
      <div *ngIf="showDatePicker" class="absolute left-0 mt-2 bg-white border rounded shadow p-2 z-30">
        <input
          type="date"
          class="border rounded px-2 py-1 text-sm"
          [value]="issue.date || ''"
          (change)="handleDateInputChange($event)" />
        <button *ngIf="issue.date"
                class="ml-2 text-red-500 text-xs underline"
                (click)="removeDate()">Eliminar</button>
      </div>
    </div>
    <button title="Delete" class="hover:bg-gray-100 p-2 rounded">üóë</button>
  </div>
</div>
